=== GitLab

(((сервирање репозиторијума, GitLab)))(((GitLab)))
Ипак је GitWeb прилично једноставан.
Ако вам треба модернији Гит сервер са пуним могућностима, постоји неколико решења отвореног кода које можете да инсталирате уместо њега.
Пошто је GitLab један од популарнијих, покрићемо његову инсталацију и коришћење као пример.
Ово је мало сложеније од GitWeb опције и захтеваће више напора око одржавања, али због тога пружа потпуне могућности.

==== Инсталација

GitLab је веб апликација која се ослања на базу података, тако да је њена инсталација мало компликованија од инсталације неких других Гит сервера.
Срећом, процес је доста добро документован и подржан.
GitLab топло препоручује да GitLab инсталирате на сопствени сервер помоћу званичног Omnibus GitLab пакета.

Остале опције за инсталацију су:

* GitLab Helm карта, за употребу са _Kubernetes_.
* Докеризовани GitLab пакети за употреби са програмом _Docker_.
* Фајлови изворног кода.
* Провајдери клауд услуга као што су _AWS, Google Cloud Platform, Azure, OpenShift_ и _Digital Ocean_.

За више информација прочитајте https://gitlab.com/gitlab-org/gitlab-foss/-/blob/master/README.md[GitLab Community Edition (CE) ’прочитајме’ фајл].

==== Администрација

GitLab интерфејсу за администрацију се приступа преко веба.
Једноставно усмерите свој интернет прегледач на име хоста или IP адресу на коју је GitLab инсталиран и пријавите се као администратор.
Подразумевано корисничко име је `admin@local.host`, а подразумевана лозинка је `5iveL!fe` (коју морате да промените чим је укуцате).
Када се пријавите, кликните на иконицу _„Admin area”_ у горњем десном углу.

[[gitlab_menu]]
._„Admin area”_ u GitLab менију
image::images/gitlab-menu.png[_„Admin area”_ u GitLab менију]

===== Корисници

Свако ко користи ваш GitLab сервер мора да поседује кориснички налог.
Кориснички налози су заиста једноставни, садрже углавном личне информације везане за податке за пријаву.
Сваки кориснички налог има *простор имена*, односно логичко груписање пројеката који припадају том кориснику.
Ако корисник +jane+ има пројекат под именом +project+, URL адреса тог пројекта би била `http://server/jane/project`.

[[gitlab_users]]
.GitLab екран за администрацију корисника
image::images/gitlab-users.png[GitLab екран за администрацију корисника]

Уклањање корисничког налога се може обавити на два начина:
„Блокирањем” се корисник спречава да се пријави на GitLab инстанцу, али се задржавају сви подаци под простором имена тог корисника, а комитови потписани мејл адресом тог корисника и даље имају линк до његовог профила.

С друге стране, „уништавање” корисника га у потпуности брише из базе података и фајл система.
Уклањају се сви пројекти и подаци у његовом простору имена, као и све групе које поседује.
Ово је очигледно много трајнија и деструктивнија операција која ће вам ретко бити потребна.

[[_gitlab_groups_section]]
===== Групе

GitLab група је скуп пројеката заједно са подацима о начину на којем корисници могу да приступе тим пројектима.
Свака група има свој простор имена (као што га имају и корисници), тако да ако група +training+ има пројекат +materials+, његова URL ће бити `http://server/training/materials`.

[[gitlab_groups]]
.GitLab екран за администрацију група
image::images/gitlab-groups.png[GitLab екран за администрацију група]

Свака група је придружена одређеном броју корисника, при чему сваки од њих има ниво дозволе за групне пројекте као и за саму групу.
Ове дозволе се крећу од „Гост” (само за приступ тикетима и чету) до „Власник” (потпуна контрола над групом, њеним члановима и пројектима).
Постоји превише типова дозвола да би се сви овде навели, али GitLab има користан линк на екрану за администрацију.

===== Пројекти

GitLab пројекат грубо одговара једном Гит репозиторијуму.
Сваки пројекат припада једном простору имена, било кориснику или групи.
Ако пројекат припада кориснику, власник пројекта има непосредну контролу над тиме ко има приступ пројекту; ако пројекат припада групи, користиће се групне дозволе за кориснички ниво.

Сваки пројекат има и ниво видљивости који контролише ко има приступ читања страница и репозиторијума тог пројекта.
Ако је пројекат _Private,_ власник пројекта мора експлицитно да дозволи приступ одређеним корисницима.
_Internal_ пројекат је видљив свим пријављеним корисницима, а _Public_ свима.
Обратите пажњу на то да ово контролише и `git fetch` приступ, као и приступ веб корисничком интерфејсу тог пројекта.

===== Куке

GitLab поседује и подршку за куке, како на нивоу пројекта, тако и на нивоу система.
У оба случаја, кад год се догоди неки релевантан догађај, GitLab сервер ће обавити HTTP POST са неким описним JSON.
Ово је одличан начин да повежете своје Гит репозиторијуме и GitLab инстанцу са остатком аутоматизације тока развоја, као што су CI сервери, чет собе, или алати за развој.

==== Основна употреба

Прва ствар коју ћете хтети да урадите са GitLab је да креирате нови пројекат.
Ово се једноставно обавља кликом на иконицу „+” из траке са алатима.
Поставиће вам се питање за име пројекта, ком простору имена треба да припада и који би требало да буде ниво видљивости.
Већина онога што овде дефинишете није трајно и може се накнадно променити путем интерфејса за подешавања.
Кликните на _„Create project”_ и то је то.

Сада када пројекат постоји, вероватно ћете хтети да га повежете са локалним Гит репозиторијумом.
Сваки пројекат је доступан преко HTTPS или SSH и оба се могу користити за конфигурисање удаљеног Гит репозиторијума.
URL адресе су видљиве на врху насловне странице пројекта.
За већ постојећи локални репозиторијум, следећа команда ће креирати удаљени репозиторијум `gitlab` везан за хостовану локацију:

[source,console]
----
$ git remote add gitlab https://сервер/простор_имена/пројекат.git
----

Ако немате локалну копију репозиторијума, можете једноставно да урадите следеће:

[source,console]
----
$ git clone https://сервер/простор_имена/пројекат.git
----

Веб кориснички интерфејс нуди неколико корисних погледа на сам репозиторијум.
Почетна страница сваког пројекта показује скорашњу активност, а линкови при врху ће вас одвести до погледа на фајлове пројекта и лог комитова.

==== Заједнички рад

Најједноставнији начин заједничког рада на GitLab пројекту је давање сваком кориснику дозволу за гурање на Гит репозиторијум.
Корисника можете додати у пројекат одласком у одељак _„Members”_ у подешавањима тог пројекта и повезивањем новог корисника са нивоом приступа (о различитим нивоима приступа се дискутује <<_gitlab_groups_section>>.)
Ако кориснику дате ниво приступа _„Developer”_ или виши, тај корисник ће моћи да гура комитове и гране директно у репозиторијум.

Још један раздвојенији начин сарадње је помоћу захтева за спајањем.
Ова могућност дозвољава да било који корисник који види пројекат може и да му доприноси на контролисани на начин.
Корисници са директним приступом могу једноставно да направе грану, гурну комитове на њу, и отворе захтев за спајањем из њихове гране на грану `master`, или на било коју другу грану.
Корисници који немају дозволу за гурање на репозиторијум могу да га „форкују” (креирају своју копију), гурну комитове на _своју_ копију, отворе захтев за спајањем из своје рачве назад на главни пројекат.
Овај модел дозвољава власнику да има потпуну контролу над тиме шта иде у репозиторијум и када, а допушта да допринос пројекту дају и корисници који немају поверење.

Захтеви за спајањем и тикети су главне јединице за дугорочне GitLab дискусије.
Сваки захтев за спајањем допушта да се о предложеној измени расправља линија по линију (што подржава једноставну врсту прегледа кода), као и општу дискусију о целокупној промени.
Оба могу да се доделе корисницима, или да се организују у прекретнице.

Овај одељак се највише усредсредио на GitLab могућности које имају везе са програмом Гит, али будући да је зрео пројекат, GitLab нуди и многе друге могућности које ће вам помоћи у раду са тимом, као што су викији пројекта и алати за одржавање система.
Једна од предности GitLab система је то што када се сервер једном подигне и покрене, ретко ћете имати потребу да мењате конфигурациони фајл или да приступате серверу преко SSH; већина административних и општих задатака може се обавити преко интерфејса из интернет прегледача.
